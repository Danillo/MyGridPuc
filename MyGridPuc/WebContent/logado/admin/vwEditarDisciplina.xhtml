<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<sec:isAnonymous>
	<!-- Redireciona caso o Usuário Não Esteja Autenticado. -->
	<meta http-equiv="refresh"
		content="0;url=#{request.contextPath}/publico/login.xhtml" />
</sec:isAnonymous>

<ui:composition template="/template/index.xhtml">
	<ui:define name="head">
		<script language="javascript"
			src="#{request.contextPath}/publico/js/validacoesDisciplina.js"
			charset="ISO-8859-1" />
	</ui:define>

	<ui:define name="title">        
            MyGridPuc - Cadastro de Disciplina        
    </ui:define>

	<ui:define name="cabecalho">
									
	Usuário Logado: #{request.remoteUser}
	<a href="#{request.contextPath}/j_spring_security_logout"> Logout</a>

	</ui:define>
	<ui:define name="menu">
		<!-- Se o Usuario Estiver Logado ele Terá Acesso aos Menus -->
		<sec:ifAnyGranted roles="ROLE_ADMINISTRADOR">
			<!-- Menu será da Seguinte Forma:
		Cadastros
			-Curso
			-Discilina
			-Matriz
			-Turma
			-Usuário
		Importação
			-Matriz Curricular
			-Programação Academica
		 -->
		 	<h:commandButton styleClass="button" action="#{disciplinaController.criar}" immediate="true" value="Nova Disciplina" /><br/>
		 	<h:commandButton styleClass="button" action="#{disciplinaController.listar}" immediate="true" value="Listar Disciplinas" /><br/>
			<h:commandButton styleClass="button" action="principal" immediate="true" value="Voltar ao Menu Principal" /><br/>

		</sec:ifAnyGranted>
	</ui:define>

	<ui:define name="conteudo">

		<f:view>
			<!-- Formulario de cadastro de  disciplina -->
			<div class="container">
				<h:form id="formularioDisciplina" class="form-horizontal"
					role="form">
					<!-- ID dad disciplina -->
					<h:inputHidden id="idDisciplina"
						value="#{disciplinaController.disciplina.id}" />
					<!-- Nome -->
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<h:outputLabel value="Nome" class="col-sm-2 control-label" />
								<div class="col-sm-10">
								<h:inputText styleClass="form-control" value="#{disciplinaController.disciplina.nome}" required="true"/>
								</div>
							</div>
						</div>
					</div>

					<!-- Codigo -->
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<h:outputLabel value="Codigo" class="col-sm-2 control-label" />
								<div class="col-sm-10">
									<h:inputText styleClass="form-control" value="#{disciplinaController.disciplina.codigo}" required="true"/>
								</div>
							</div>
						</div>
					</div>

					<!-- Credito -->
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<h:outputLabel value="Credito" class="col-sm-2 control-label" />
								<div class="col-sm-10">
									<h:inputText styleClass="form-control" value="#{disciplinaController.disciplina.credito}" required="true"  />
								</div>
							</div>
						</div>
					</div>

					<!-- Submit -->
					<h:commandButton styleClass="button" value="Salvar"
						action="#{disciplinaController.alterar}" />
					<h:commandButton styleClass="button" value="Excluir"
						action="#{disciplinaController.excluir}" />
				</h:form>
			</div>
		</f:view>
	</ui:define>


	<ui:define name="rodape">

	</ui:define>
</ui:composition>
</html>